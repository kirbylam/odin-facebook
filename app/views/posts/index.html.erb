<%= render 'layouts/header' %>

<h1>Timeline</h1>

<%= render 'post_form', post: @post %>

<body>
  <% @posts.each do |post| %>
    <div id='box'>
      <div id='name'>
        <%= post.author.full_name %>
      </div>
      <div>
        <%= post.body %>
      </div>
      <div id='like_block'>
        <div id='like_button_<%= post.id %>'>
          <%= render 'like_button', post: post %>
        </div>
        <div id='likes_<%= post.id %>'>
          <%= post.likes %>
        </div>
      </div>
      <div>
        <%= render 'comment_form', comment: @comment, post: post.id %>
      </div>
      <div>
        <% post.comments.each do |comment| %>
          <% if comment.nil? %>
            <% puts 'NIL' %>
          <% end %>
          <div id='box'>
            <div>
              <% puts post.comments.count %>
              <%= comment.author.full_name %>
            </div>
            <div>
              <%= comment.body %>
            </div>
          </div>
        <% end %>
      </div>
    </div>
    </div>
  <% end %>
</body>
